"""Localization system for CoinFlow bot."""

LOCALIZATION = {
    'en': {
        'welcome_new': '👋 *Welcome to CoinFlow Bot!*\n\nYour personal financial assistant for currency conversion, cryptocurrency analysis, and rate forecasting.\n\n🌍 Choose your language:',
        'welcome_back': '👋 *Welcome back!*\n\nI\'m ready to help you with currency conversions and cryptocurrency analysis.\n\n💡 Use the menu below to get started:',
        'language_set': '✅ Language set to English!',
        'main_menu': '📊 *Main Menu*\n\nChoose an action:',
        'quick_convert': '💱 Convert',
        'crypto_rates': '📈 Crypto Rates',
        'rate_charts': '📊 Rate Charts',
        'rate_prediction': '🔮 Rate Forecast',
        'compare_rates': '⚖️ Compare Rates',
        'calculator': '🧮 Calculator',
        'notifications': '🔔 Notifications',
        'favorites': '⭐ Favorites',
        'history': '📜 History',
        'settings': '⚙️ Settings',
        'about_btn': 'ℹ️ About',
        'stats_btn': '📊 Statistics',
        'back': '◀️ Back',
        'previous': 'Previous',
        'next': 'Next',
        'select_conversion_type': '💱 *Quick Convert*\n\nSelect currency type:',
        'fiat_currencies': '💵 Fiat Currencies',
        'popular_pairs': '⭐ Popular Pairs',
        'cbr_official_rates': 'Official rates from Central Bank of Russia',
        'select_from_currency': '💱 *Select source currency:*\n\nChoose currency to convert from:',
        'select_to_currency': '💱 *Select target currency:*\n\nChoose currency to convert to:',
        'enter_amount': '💵 Enter amount to convert:',
        'conversion_result': '💱 *Conversion Result*\n\n{amount} {from_curr} = *{result} {to_curr}*\n\n📊 Rate: 1 {from_curr} = {rate} {to_curr}\n⏰ Updated: {time}',
        'popular': '⭐ Popular',
        'fiat': '💵 Fiat',
        'crypto': '🪙 Crypto',
        'error': '❌ Error: {msg}',
        'rate_unavailable': 'Rate is currently unavailable. Please try again later.',
        'invalid_amount': 'Invalid amount. Please enter a valid number.',
        'comparing_rates': '⚖️ *Comparing rates for {symbol}*\n\nFetching data from exchanges...',
        'compare_result': '⚖️ *Price comparison for {symbol}/USDT:*\n\n{rates}\n\n📊 Average price: *${avg}*\n📈 Highest: ${high} ({high_ex})\n📉 Lowest: ${low} ({low_ex})\n📊 Spread: {spread}%',
        'chart_generating': '📊 Generating chart for {pair}...\n\nPlease wait...',
        'chart_ready': '📊 *Chart for {pair}*\n\n📈 Period: {period} days\n💰 Current price: ${current}\n📊 Average: ${avg}\n📈 High: ${high}\n📉 Low: ${low}',
        'prediction_generating': '🔮 Creating forecast for {pair}...\n\nThis may take up to a minute. Analyzing {days} days of data...',
        'prediction_ready': '🔮 *Forecast for {pair}*\n\n📊 Model: {model}\n📈 Trend: {trend}\n💰 Current: ${current}\n🎯 7-day forecast: ${forecast}\n\n⚠️ *DISCLAIMER:*\nThis is NOT financial advice. The forecast is based on mathematical models and does not account for market news or other factors.',
        'alert_set': '✅ *Alert set!*\n\n{pair}: {condition} ${target}\n\nI will notify you when the price reaches your target.',
        'alert_triggered': '🔔 *PRICE ALERT!*\n\n{pair} {condition} ${target}\n\nCurrent price: ${current}',
        'no_alerts': 'You have no active alerts.',
        'alerts_list': '🔔 *Your Alerts:*\n\n{alerts}',
        'calculator_mode': '🧮 *Calculator Mode*\n\nEnter an expression to calculate (e.g., `100 + 50 * 2`)\n\nOr use currency conversion: `100 USD to EUR`',
        'calc_result': '🧮 *Result:* {result}',
        'settings_menu': '⚙️ *Settings*',
        'favorites_empty': 'You have no favorite currencies yet.\n\nAdd favorites for quick access!',
        'favorites_list': '⭐ *Your Favorite Currencies:*\n\n{favorites}',
        'favorite_added': '⭐ {currency} added to favorites!',
        'favorite_removed': '❌ {currency} removed from favorites.',
        'history_empty': 'No conversion history yet.\n\nStart converting currencies!',
        'history_list': '📜 *Your Conversion History:*\n\n{history}',
        'select_chart_type': '📊 *Rate Charts*\n\nSelect asset type:',
        'select_prediction_type': '🔮 *Rate Forecast*\n\nSelect asset type:',
        'select_stock_market': '📈 *Select stock market:*\n\nChoose market type:',
        'select_currency_chart': '📊 *Select currency for chart:*\n\nChoose the cryptocurrency:',
        'select_currency_prediction': '🔮 *Select currency for AI forecast:*\n\nChoose the cryptocurrency:',
        'select_currency_compare': '⚖️ *Select currency to compare prices:*\n\nChoose the cryptocurrency:',
        'settings_updated': '✅ Settings updated successfully!',
        'language_changed': '🌍 Language changed to: {lang}',
        'about_text': 'ℹ️ *About CoinFlow Bot v2.0*\n\n🪙 CoinFlow is your ultimate financial assistant with advanced features:\n\n*New in v2.0:*\n• 💾 Persistent database\n• ⭐ Favorites system\n• 📜 Conversion history\n• ⚡ Smart caching\n• 📊 User statistics\n• 🔒 Enhanced security\n• 🚀 Better performance\n\n*Features:*\n• 💱 60+ currencies\n• 📊 5+ exchanges\n• 📈 Historical charts\n• 🔮 AI forecasting\n• 🔔 Price alerts\n• 🧮 Calculator\n\n📖 [GitHub](https://github.com/bobberdolle1/CoinFlow)\n\n⚠️ Not financial advice!',

        # Stocks
        'stocks': '📈 Stocks',
        'stocks_menu': '📈 *Stock Market*\n\nChoose a market:',
        'stocks_global': '🌍 Global Stocks',
        'stocks_russian': '🇷🇺 Russian Stocks (MOEX)',
        'cbr_rates': '💵 CBR Exchange Rates',
        'stocks_global_select': '🌍 *Global Stocks*\n\nSelect a stock to view:',
        'stocks_russian_select': '🇷🇺 *Russian Stocks (MOEX)*\n\nSelect a stock to view:',
        'cbr_rates_select': '💵 *CBR Exchange Rates*\n\n🇷🇺 Official rates from Central Bank of Russia\n\nSelect a currency:',
        'stock_error': '❌ Unable to fetch data for {ticker}. Please try again.',
        'cbr_error': '❌ Unable to fetch CBR rate for {currency}. Please try again.',
        'show_chart': '📊 Show Chart',
        'chart_sent': '✅ Chart sent above!',
        'loading': 'Loading',

        # CS2
        'cs2_skins': '🎮 CS2 Skins',
        'cs2_menu': '🎮 *CS2 Items Market*\n\nChoose a category or search for items:',
        'cs2_search': 'Search Item',
        'cs2_search_prompt': '🔍 *Search CS2 Items*\n\nEnter item name (e.g., "Karambit", "AK-47", "Doppler"):',
        'cs2_search_results': '🔍 *Search Results for "{query}"*\n\nFound {count} item(s):',
        'cs2_search_no_results': '❌ No items found for "{query}"\n\nTry different keywords or browse categories.',
        'cs2_knives': 'Knives',
        'cs2_gloves': 'Gloves',
        'cs2_rifles': 'Rifles',
        'cs2_snipers': 'Snipers',
        'cs2_pistols': 'Pistols',
        'cs2_smgs': 'SMGs',
        'cs2_select_item': '🎮 *{category}*\n\nSelect an item:',
        'cs2_no_items': '❌ No items found in this category.',
        'cs2_fetching_prices': 'Fetching prices from marketplaces...',
        'cs2_price_error': '❌ Unable to fetch prices for this item. Please try again.',
        'refresh': 'Refresh',
        
        # Portfolio
        'portfolio': '💼 Portfolio',
        'portfolio_menu': '💼 *Your Portfolio*\n\nManage your investment portfolio:',
        'portfolio_empty': '📭 Your portfolio is empty.\n\nAdd assets to start tracking your investments!',
        'portfolio_add': '➕ Add Asset',
        'portfolio_view': '📊 View Portfolio',
        'portfolio_summary': '📈 Summary',
        'portfolio_export': '📤 Export',
        'portfolio_select_type': '📦 *Select Asset Type*\n\nWhat would you like to add?',
        'portfolio_type_crypto': '💰 Cryptocurrency',
        'portfolio_type_stock': '📈 Stock',
        'portfolio_type_fiat': '💵 Fiat Currency',
        'portfolio_type_cs2': '🎮 CS2 Item',
        'portfolio_enter_quantity': '📊 *Enter Quantity*\n\nHow many {asset} do you own?',
        'portfolio_added': '✅ Added {quantity} {asset} to your portfolio!',
        'portfolio_updated': '✅ Portfolio item updated successfully!',
        'portfolio_deleted': '✅ Portfolio item deleted.',
        'portfolio_error': '❌ Error: {error}',
        'portfolio_total_value': '💰 Total Value',
        'portfolio_profit_loss': '📊 Profit/Loss',
        'portfolio_distribution': '📊 Distribution by Type',
        'portfolio_item_details': '📊 *{name}*\n\n💼 Quantity: {quantity}\n💰 Current Price: ${price:.2f}\n💵 Total Value: ${value:.2f}',
        'portfolio_edit': '✏️ Edit',
        'portfolio_delete': '🗑️ Delete',
        'portfolio_confirm_delete': '⚠️ Are you sure you want to delete {asset}?',
        
        # Export
        'export': '📤 Export',
        'export_menu': '📤 *Export Data*\n\nChoose what to export:',
        'export_portfolio': '💼 Portfolio',
        'export_alerts': '🔔 Alerts',
        'export_history': '📜 History',
        'export_all': '📦 All Data (ZIP)',
        'export_generating': '⏳ Generating export file...',
        'export_ready': '✅ Export ready! Sending file...',
        'export_error': '❌ Export creation error: {error}',
        
        # News
        'news': '📰 News',
        'news_menu_title': 'Crypto News',
        'news_menu_desc': 'Stay updated with news about your favorite cryptocurrencies',
        'news_latest': '📄 Latest News',
        'news_subscriptions': '📊 My Subscriptions',
        'news_subscribe': '➕ Subscribe',
        'news_no_subscriptions': '💭 You have no news subscriptions.\n\nSubscribe to get notifications!',
        'news_none_found': '💭 No new news found',
        'news_sent': '✅ Sent {count} news items',
        'news_select_asset': '💰 **Select Cryptocurrency**\n\nWhich cryptocurrency would you like to receive news for?',
        'news_select_categories': 'Select news categories:',
        'news_subscription_created': '✅ Subscription to {asset} created!',
        'news_subscription_updated': '✅ Subscription to {asset} updated!',
        'your_subscriptions': 'Your Subscriptions',
        'active_subscriptions': 'Active subscriptions',
        'error_occurred': 'An error occurred',
        
        # Reports
        'reports': '📊 Reports',
        'reports_menu': '📊 **Analytics Reports**\n\nGenerate and schedule automated reports:',
        'report_generate': '📈 Generate Report',
        'report_weekly': '📅 Weekly Digest',
        'report_portfolio': '💼 Portfolio Report',
        'report_subscribe': '🔔 Subscribe to Reports',
        'report_generating': '⏳ Generating report...',
        'report_ready': '✅ Report generated!',
        'report_no_data': '📭 No data available for report',
        'report_subscription_created': '✅ Subscribed to {report_type} reports!',
        'report_subscription_updated': '✅ Report subscription updated!',

        # Theme
        'theme': '🎨 Theme',
        'theme_light': '☀️ Light',
        'theme_dark': '🌙 Dark',
        'theme_auto': '🔄 Auto',
        'theme_changed': '✅ Theme changed to: {theme}',
        'dashboard_btn': '🌐 Dashboard',
        'ai_assistant': '🤖 AI Assistant',
        'analytics': '📊 Analytics',
        'trading_signals': '🎯 Trading Signals',
        'ai_assistant_start': '🤖 Start conversation with AI assistant',
        'ai_assistant_help': '🤖 Type "help" to see available commands',
        'ai_assistant_no_response': '🤖 No response from AI assistant',
        'ai_assistant_error': '🤖 Error occurred while processing request',
        
        # Common error messages
        'not_enough_data': '❌ Not enough data',
        'insufficient_data': '❌ Insufficient historical data',
        'no_data_available': '❌ No data available',
        'failed_to_fetch': '❌ Failed to fetch data',
        'unable_to_fetch': '❌ Unable to fetch data',
        'invalid_input': '❌ Invalid input',
        'conversion_failed': '❌ Conversion failed',
        'forecast_failed': '❌ Forecast generation failed',
        'try_again_later': 'Please try again later',
        'data_unavailable': 'Data is currently unavailable',
        'service_unavailable': 'Service temporarily unavailable',
        
        # Voice recognition errors
        'voice_not_available': '❌ **Voice Recognition Not Available**\n\nRequired libraries are not installed.\n\nInstall with: `pip install SpeechRecognition pydub`',
        'voice_ffmpeg_missing': '❌ **ffmpeg Not Found**\n\nVoice recognition requires ffmpeg for audio conversion.\n\n**Windows:**\n1. Download from https://ffmpeg.org/download.html\n2. Extract and add to PATH\n3. Restart bot\n\n**Linux:**\n`sudo apt-get install ffmpeg`',
        'voice_speechrecognition_missing': '❌ **SpeechRecognition Library Missing**\n\nInstall with:\n`pip install SpeechRecognition`',
        'voice_pydub_missing': '❌ **pydub Library Missing**\n\nInstall with:\n`pip install pydub`',
        'voice_conversion_failed': '❌ **Audio Conversion Failed**\n\nUnable to convert voice message format.\n\nMake sure ffmpeg is installed and in PATH.',
        'voice_not_understood': '❌ **Speech Not Understood**\n\nCould not recognize what you said.\n\nPlease try again with clearer audio.',
        'voice_api_error': '❌ **Recognition Service Error**\n\nGoogle Speech API is unavailable.\n\nPlease try again later.',
        'voice_processing': '🎤 Processing voice message...',
        'voice_recognized': '🎤 Recognized: *{text}*',
        'voice_command_executed': '🎤 **Voice Command Executed**',
        'voice_recognized_title': '🎤 **Recognized Text:**',
        'voice_not_parsed': 'ℹ️ I couldn\'t parse this as a conversion command.',
        'voice_try_format': 'Try: _\'100 USD to EUR\' or \'convert 50 bitcoin to dollars\'_',
        'voice_converting': '⏳ Converting {amount} {from_curr} to {to_curr}...',
        'voice_rate_unavailable': '❌ Unable to get rate for {from_curr}/{to_curr}',
    },
    'ru': {
        'welcome_new': '👋 *Добро пожаловать в CoinFlow Bot!*\n\nВаш персональный финансовый ассистент для конвертации валют, анализа криптовалют и прогнозирования курсов.\n\n🌍 Выберите язык:',
        'welcome_back': '👋 *С возвращением!*\n\nЯ готов помочь вам с конвертацией валют и анализом криптовалют.\n\n💡 Используйте меню ниже для начала работы:',
        'language_set': '✅ Язык установлен: Русский!',
        'main_menu': '📊 *Главное меню*\n\nВыберите действие:',
        'quick_convert': '💱 Конвертация',
        'crypto_rates': '📈 Курсы крипты',
        'rate_charts': '📊 Графики курсов',
        'rate_prediction': '🔮 Прогноз курса',
        'compare_rates': '⚖️ Сравнить курсы',
        'calculator': '🧮 Калькулятор',
        'notifications': '🔔 Уведомления',
        'favorites': '⭐ Избранное',
        'history': '📜 История',
        'settings': '⚙️ Настройки',
        'select_conversion_type': '💱 *Быстрая конвертация*\n\nВыберите тип валюты:',
        'fiat_currencies': '💵 Фиатные валюты',
        'popular_pairs': '⭐ Популярные пары',
        'cbr_official_rates': 'Официальные курсы Центрального Банка России',
        'rate_unavailable': 'Курс временно недоступен. Попробуйте позже.',
        'invalid_amount': 'Неверная сумма. Введите корректное число.',
        'comparing_rates': '⚖️ *Сравниваю курсы для {symbol}*\n\nПолучаю данные с бирж...',
        'compare_result': '⚖️ *Сравнение цен для {symbol}/USDT:*\n\n{rates}\n\n📊 Средняя цена: *${avg}*\n📈 Максимум: ${high} ({high_ex})\n📉 Минимум: ${low} ({low_ex})\n📊 Спред: {spread}%',
        'chart_generating': '📊 Создаю график для {pair}...\n\nПожалуйста, подождите...',
        'chart_ready': '📊 *График для {pair}*\n\n📈 Период: {period} дней\n💰 Текущая цена: ${current}\n📊 Среднее: ${avg}\n📈 Максимум: ${high}\n📉 Минимум: ${low}',
        'prediction_generating': '🔮 Создаю прогноз для {pair}...\n\nЭто может занять до минуты. Анализирую данные за {days} дней...',
        'prediction_ready': '🔮 *Прогноз для {pair}*\n\n📊 Модель: {model}\n📈 Тренд: {trend}\n💰 Текущая: ${current}\n🎯 Прогноз на 7 дней: ${forecast}\n\n⚠️ *ОТКАЗ ОТ ОТВЕТСТВЕННОСТИ:*\nЭто НЕ финансовый совет. Прогноз основан на математических моделях и не учитывает рыночные новости и другие факторы.',
        'alert_set': '✅ *Уведомление установлено!*\n\n{pair}: {condition} ${target}\n\nЯ уведомлю вас, когда цена достигнет цели.',
        'alert_triggered': '🔔 *ЦЕНОВОЕ ОПОВЕЩЕНИЕ!*\n\n{pair} {condition} ${target}\n\nТекущая цена: ${current}',
        'no_alerts': 'У вас нет активных уведомлений.',
        'alerts_list': '🔔 *Ваши уведомления:*\n\n{alerts}',
        'calculator_mode': '🧮 *Режим калькулятора*\n\nВведите выражение для вычисления (например, `100 + 50 * 2`)\n\nИли используйте конвертацию валют: `100 USD to EUR`',
        'calc_result': '🧮 *Результат:* {result}',
        'settings_menu': '⚙️ *Настройки*',
        'favorites_empty': 'У вас пока нет избранных валют.\n\nДобавьте их для быстрого доступа!',
        'favorites_list': '⭐ *Ваши избранные валюты:*\n\n{favorites}',
        'favorite_added': '⭐ {currency} добавлена в избранное!',
        'favorite_removed': '❌ {currency} удалена из избранного.',
        'history_empty': 'История конвертаций пока пуста.\n\nНачните конвертировать валюты!',
        'history_list': '📜 *Ваша история конвертаций:*\n\n{history}',
        'select_chart_type': '📊 *Графики курсов*\n\nВыберите тип актива:',
        'select_prediction_type': '🔮 *Прогноз курсов*\n\nВыберите тип актива:',
        'select_stock_market': '📈 *Выберите фондовый рынок:*\n\nВыберите тип рынка:',
        'select_currency_chart': '📊 *Выберите валюту для графика:*\n\nВыберите криптовалюту:',
        'select_currency_prediction': '🔮 *Выберите валюту для AI-прогноза:*\n\nВыберите криптовалюту:',
        'select_currency_compare': '⚖️ *Выберите валюту для сравнения цен:*\n\nВыберите криптовалюту:',
        'settings_updated': '✅ Настройки успешно обновлены!',
        'language_changed': '🌍 Язык изменён на: {lang}',
        'about_text': 'ℹ️ *О боте CoinFlow v2.0*\n\n🪙 CoinFlow — ваш финансовый ассистент с продвинутыми возможностями:\n\n*Новое в v2.0:*\n• 💾 Постоянная база данных\n• ⭐ Система избранного\n• 📜 История конвертаций\n• ⚡ Умное кэширование\n• 📊 Статистика пользователей\n• 🔒 Улучшенная безопасность\n• 🚀 Лучшая производительность\n\n*Возможности:*\n• 💱 60+ валют\n• 📊 5+ бирж\n• 📈 Исторические графики\n• 🔮 ИИ-прогнозирование\n• 🔔 Ценовые уведомления\n• 🧮 Калькулятор\n\n📖 [GitHub](https://github.com/bobberdolle1/CoinFlow)\n\n⚠️ Не является финансовым советом!',
        
        # Stocks
        'stocks': '📈 Акции',
        'stocks_menu': '📈 *Фондовый рынок*\n\nВыберите рынок:',
        'stocks_global': '🌍 Мировые акции',
        'stocks_russian': '🇷🇺 Российские акции (MOEX)',
        'cbr_rates': '💵 Курсы ЦБ РФ',
        'stocks_global_select': '🌍 *Мировые акции*\n\nВыберите акцию для просмотра:',
        'stocks_russian_select': '🇷🇺 *Российские акции (MOEX)*\n\nВыберите акцию для просмотра:',
        'cbr_rates_select': '💵 *Курсы ЦБ РФ*\n\n🇷🇺 Официальные курсы Центрального Банка России\n\nВыберите валюту:',
        'stock_error': '❌ Не удалось получить данные для {ticker}. Попробуйте снова.',
        'cbr_error': '❌ Не удалось получить курс ЦБ для {currency}. Попробуйте снова.',
        'show_chart': '📊 Показать график',
        'chart_sent': '✅ График отправлен выше!',
        'loading': 'Загрузка',
        
        # CS2
        'cs2_skins': '🎮 CS2 Предметы',
        'cs2_menu': '🎮 *Рынок предметов CS2*\n\nВыберите категорию или найдите предмет:',
        'cs2_search': 'Поиск предмета',
        'cs2_search_prompt': '🔍 *Поиск предметов CS2*\n\nВведите название (например, "Karambit", "AK-47", "Doppler"):',
        'cs2_search_results': '🔍 *Результаты поиска "{query}"*\n\nНайдено {count} предмет(ов):',
        'cs2_search_no_results': '❌ Ничего не найдено по запросу "{query}"\n\nПопробуйте другие ключевые слова или просмотрите категории.',
        'cs2_knives': 'Ножи',
        'cs2_gloves': 'Перчатки',
        'cs2_rifles': 'Винтовки',
        'cs2_snipers': 'Снайперские',
        'cs2_pistols': 'Пистолеты',
        'cs2_smgs': 'ПП',
        'cs2_select_item': '🎮 *{category}*\n\nВыберите предмет:',
        'cs2_no_items': '❌ В этой категории не найдено предметов.',
        'cs2_fetching_prices': 'Получаю цены с площадок...',
        'cs2_price_error': '❌ Не удалось получить цены для этого предмета. Попробуйте снова.',
        'refresh': 'Обновить',
        
        # Portfolio
        'portfolio': '💼 Портфель',
        'portfolio_menu': '💼 *Ваш портфель*\n\nУправляйте инвестиционным портфелем:',
        'portfolio_empty': '📭 Ваш портфель пуст.\n\nДобавьте активы для отслеживания инвестиций!',
        'portfolio_add': '➕ Добавить актив',
        'portfolio_view': '📊 Показать портфель',
        'portfolio_summary': '📈 Сводка',
        'portfolio_export': '📤 Экспорт',
        'portfolio_select_type': '📦 *Выберите тип актива*\n\nЧто вы хотите добавить?',
        'portfolio_type_crypto': '💰 Криптовалюта',
        'portfolio_type_stock': '📈 Акция',
        'portfolio_type_fiat': '💵 Фиатная валюта',
        'portfolio_type_cs2': '🎮 Предмет CS2',
        'portfolio_enter_quantity': '📊 *Введите количество*\n\nСколько {asset} у вас есть?',
        'portfolio_added': '✅ Добавлено {quantity} {asset} в ваш портфель!',
        'portfolio_updated': '✅ Элемент портфеля успешно обновлён!',
        'portfolio_deleted': '✅ Элемент портфеля удалён.',
        'portfolio_error': '❌ Ошибка: {error}',
        'portfolio_total_value': '💰 Общая стоимость',
        'portfolio_profit_loss': '📊 Прибыль/Убыток',
        'portfolio_distribution': '📊 Распределение по типам',
        'portfolio_item_details': '📊 *{name}*\n\n💼 Количество: {quantity}\n💰 Текущая цена: ${price:.2f}\n💵 Общая стоимость: ${value:.2f}',
        'portfolio_edit': '✏️ Редактировать',
        'portfolio_delete': '🗑️ Удалить',
        'portfolio_confirm_delete': '⚠️ Вы уверены, что хотите удалить {asset}?',
        
        # Export
        'export': '📤 Экспорт',
        'export_menu': '📤 *Экспорт данных*\n\nВыберите, что экспортировать:',
        'export_portfolio': '💼 Портфель',
        'export_alerts': '🔔 Уведомления',
        'export_history': '📜 История',
        'export_all': '📦 Все данные (ZIP)',
        'export_generating': '⏳ Создаю файл экспорта...',
        'export_ready': '✅ Экспорт готов! Отправляю файл...',
        'export_error': '❌ Ошибка создания экспорта: {error}',
        
        # News
        'news': '📰 Новости',
        'news_menu_title': 'Криптоновости',
        'news_menu_desc': 'Отслеживайте новости по вашим любимым криптовалютам',
        'news_latest': '📄 Последние новости',
        'news_subscriptions': '📊 Мои подписки',
        'news_subscribe': '➕ Подписаться',
        'news_no_subscriptions': '💭 У вас нет подписок на новости.\n\nПодпишитесь, чтобы получать уведомления!',
        'news_none_found': '💭 Новых новостей не найдено',
        'news_sent': '✅ Отправлено {count} новостей',
        'news_select_asset': '💰 **Выберите криптовалюту**\n\nПо какой криптовалюте вы хотите получать новости?',
        'news_select_categories': 'Выберите категории новостей:',
        'news_subscription_created': '✅ Подписка на {asset} создана!',
        'news_subscription_updated': '✅ Подписка на {asset} обновлена!',
        'your_subscriptions': 'Ваши подписки',
        'active_subscriptions': 'Активных подписок',
        'error_occurred': 'Произошла ошибка',
        
        # Reports
        'reports': '📊 Отчеты',
        'reports_menu': '📊 **Аналитические отчеты**\n\nГенерируйте и настраивайте автоматические отчеты:',
        'report_generate': '📈 Создать отчет',
        'report_weekly': '📅 Еженедельный дайджест',
        'report_portfolio': '💼 Отчет по портфелю',
        'report_subscribe': '🔔 Подписаться на отчеты',
        'report_generating': '⏳ Создаю отчет...',
        'report_ready': '✅ Отчет готов!',
        'report_no_data': '📭 Нет данных для отчета',
        'report_subscription_created': '✅ Подписка на {report_type} отчеты создана!',
        'report_subscription_updated': '✅ Подписка на отчеты обновлена!',
        
        # Theme
        'theme': '🎨 Тема',
        'theme_light': '☀️ Светлая',
        'theme_dark': '🌙 Тёмная',
        'theme_auto': '🔄 Авто',
        'theme_changed': '✅ Тема изменена на: {theme}',
        'dashboard_btn': '🌐 Панель',
        'ai_assistant': '🤖 AI Ассистент',
        'analytics': '📊 Аналитика',
        'trading_signals': '🎯 Торговые сигналы',
        'ai_assistant_start': '🤖 Начать диалог с AI ассистентом',
        'ai_assistant_help': '🤖 Напишите "help" чтобы увидеть доступные команды',
        'ai_assistant_no_response': '🤖 Нет ответа от AI ассистента',
        'ai_assistant_error': '🤖 Произошла ошибка при обработке запроса',
        
        # Common error messages
        'not_enough_data': '❌ Недостаточно данных',
        'insufficient_data': '❌ Недостаточно исторических данных',
        'no_data_available': '❌ Данные недоступны',
        'failed_to_fetch': '❌ Не удалось получить данные',
        'unable_to_fetch': '❌ Невозможно получить данные',
        'invalid_input': '❌ Неверный ввод',
        'conversion_failed': '❌ Конвертация не удалась',
        'forecast_failed': '❌ Не удалось создать прогноз',
        'try_again_later': 'Попробуйте позже',
        'data_unavailable': 'Данные временно недоступны',
        'service_unavailable': 'Сервис временно недоступен',
        
        # Voice recognition errors
        'voice_not_available': '❌ **Распознавание голоса недоступно**\n\nНеобходимые библиотеки не установлены.\n\nУстановите: `pip install SpeechRecognition pydub`',
        'voice_ffmpeg_missing': '❌ **ffmpeg не найден**\n\nДля распознавания голоса требуется ffmpeg для конвертации аудио.\n\n**Windows:**\n1. Скачайте с https://ffmpeg.org/download.html\n2. Распакуйте и добавьте в PATH\n3. Перезапустите бота\n\n**Linux:**\n`sudo apt-get install ffmpeg`',
        'voice_speechrecognition_missing': '❌ **Библиотека SpeechRecognition отсутствует**\n\nУстановите:\n`pip install SpeechRecognition`',
        'voice_pydub_missing': '❌ **Библиотека pydub отсутствует**\n\nУстановите:\n`pip install pydub`',
        'voice_conversion_failed': '❌ **Ошибка конвертации аудио**\n\nНе удалось конвертировать формат голосового сообщения.\n\nУбедитесь, что ffmpeg установлен и добавлен в PATH.',
        'voice_not_understood': '❌ **Речь не распознана**\n\nНе удалось понять, что вы сказали.\n\nПопробуйте еще раз с более четким звуком.',
        'voice_api_error': '❌ **Ошибка сервиса распознавания**\n\nGoogle Speech API недоступен.\n\nПопробуйте позже.',
        'voice_processing': '🎤 Обработка голосового сообщения...',
        'voice_recognized': '🎤 Распознано: *{text}*',
        'voice_command_executed': '🎤 **Голосовая команда выполнена**',
        'voice_recognized_title': '🎤 **Распознанный текст:**',
        'voice_not_parsed': 'ℹ️ Не удалось распознать как команду конвертации.',
        'voice_try_format': 'Попробуйте: _\'100 USD to EUR\' или \'конвертируй 50 биткоин в доллары\'_',
        'voice_converting': '⏳ Конвертирую {amount} {from_curr} в {to_curr}...',
        'voice_rate_unavailable': '❌ Не удалось получить курс для {from_curr}/{to_curr}',
    }
}


def get_text(lang: str, key: str, **kwargs) -> str:
    """Get localized text."""
    return LOCALIZATION.get(lang, LOCALIZATION['en']).get(key, key).format(**kwargs)
